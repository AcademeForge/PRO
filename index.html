
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MediCart ‚Äì Medical Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ===== THEME ===== */
:root{
  --bg:#f4f6f8;
  --card:#fff;
  --text:#000;
  --primary:#1e88e5;
}
.dark{
  --bg:#121212;
  --card:#1e1e1e;
  --text:#fff;
}
*{box-sizing:border-box;font-family:Arial,sans-serif}
body{margin:0;background:var(--bg);color:var(--text);transition:.3s}

/* ===== NAV ===== */
nav{
  background:var(--primary);
  color:#fff;
  padding:12px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:space-between;
}
nav span{font-size:20px;font-weight:bold}
nav button{
  background:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
}

/* ===== CONTROLS ===== */
.controls{
  background:var(--card);
  padding:10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
input,select{
  padding:8px;
  border-radius:6px;
  border:1px solid #ccc;
  width:100%;
}
@media(min-width:600px){
  input,select{width:auto}
}

/* ===== GRID ===== */
.container{
  padding:15px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:15px;
}

/* ===== CARD ===== */
.card{
  background:var(--card);
  padding:12px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  transition:.3s;
}
.card:hover{transform:scale(1.05)}
.card h3{font-size:14px}
.card p{font-size:12px;color:gray}
.card button{
  margin-top:8px;
  width:100%;
  background:var(--primary);
  color:#fff;
  border:none;
  padding:7px;
  border-radius:6px;
}

/* ===== MODAL ===== */
#modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
}
.box{
  background:var(--card);
  width:92%;
  max-width:400px;
  padding:15px;
  border-radius:10px;
  animation:up .3s;
}
@keyframes up{
  from{transform:translateY(40px);opacity:0}
  to{transform:translateY(0);opacity:1}
}

/* ===== PROGRESS ===== */
.progress{height:6px;background:#ccc;border-radius:10px;overflow:hidden;margin:8px 0}
.progress div{height:100%;width:0;background:#4caf50;transition:.4s}

/* ===== SUCCESS ===== */
#success{
  display:none;
  height:100vh;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
}

/* ===== CONFETTI ===== */
.confetti{
  position:absolute;
  width:8px;height:8px;
  animation:fall 3s linear infinite;
}
@keyframes fall{
  from{transform:translateY(-100px)}
  to{transform:translateY(100vh)}
}
</style>
</head>

<body>

<nav>
  <span>MediCart üè•</span>
  <div>
    <button onclick="toggleDark()">üåô</button>
    <button onclick="openHistory()">üìú</button>
    <button onclick="openCart()">üõí (<span id="count">0</span>)</button>
  </div>
</nav>

<div class="controls">
  <input id="search" placeholder="Search medicine..." oninput="applyFilters()">
  <select id="category" onchange="applyFilters()">
    <option value="All">All Categories</option>
  </select>
</div>

<div id="products" class="container"></div>

<!-- MODAL -->
<div id="modal">
  <div class="box" id="modalBox"></div>
</div>

<!-- SUCCESS -->
<div id="success">
  <h1>üéâ Order Placed Successfully!</h1>
  <p>Payment received / COD confirmed</p>
</div>

<script>
/* ===== DARK MODE ===== */
if(localStorage.dark==="true")document.body.classList.add("dark");
function toggleDark(){
  document.body.classList.toggle("dark");
  localStorage.dark=document.body.classList.contains("dark");
}

/* ===== DATA ===== */
const categories=[
"Pain Relief","Fever","Cold","Antibiotic","Diabetes",
"Heart","BP","Digestive","Skin","Hair",
"Eye","Dental","Women","Men","Child",
"Mental","Allergy","Immunity","First Aid","Ayurvedic"
];
const medicines=[];
for(let i=1;i<=100;i++){
  medicines.push({
    id:i,
    name:"Medicine "+i,
    category:categories[i%categories.length],
    price:Math.floor(Math.random()*200)+20
  });
}
const categorySelect=document.getElementById("category");
categories.forEach(c=>categorySelect.innerHTML+=`<option>${c}</option>`);

/* ===== RENDER ===== */
const products=document.getElementById("products");
function render(list){
  products.innerHTML="";
  list.forEach(m=>{
    products.innerHTML+=`
    <div class="card">
      <h3>${m.name}</h3>
      <p>${m.category}</p>
      <p><b>‚Çπ${m.price}</b></p>
      <button onclick="addToCart(${m.id})">Add to Cart</button>
    </div>`;
  });
}
render(medicines);

/* ===== SEARCH + FILTER ===== */
function applyFilters(){
  const s=search.value.toLowerCase();
  const c=category.value;
  render(medicines.filter(m=>
    (c==="All"||m.category===c)&&
    m.name.toLowerCase().includes(s)
  ));
}

/* ===== CART ===== */
let cart=[];
function addToCart(id){
  cart.push(medicines.find(m=>m.id===id));
  count.innerText=cart.length;
}
function openCart(){
  modal.style.display="flex";
  modalBox.innerHTML=`
    <h3>Checkout</h3>
    <div class="progress"><div id="bar"></div></div>
    ${cart.map(i=>`<p>${i.name} - ‚Çπ${i.price}</p>`).join("")}
    <h4>Payment</h4>
    <label><input type="radio" name="pay" value="COD" checked> Cash on Delivery</label><br>
    <label><input type="radio" name="pay" value="UPI"> UPI (devrajkumar01@ybl)</label>
    <button onclick="placeOrder()">Place Order</button>
    <button onclick="closeModal()">Close</button>
  `;
  document.getElementById("bar").style.width="50%";
}
function closeModal(){modal.style.display="none"}

/* ===== ORDER ===== */
function placeOrder(){
  const pay=[...document.getElementsByName("pay")].find(p=>p.checked).value;
  const orders=JSON.parse(localStorage.orders||"[]");
  orders.push({date:new Date().toLocaleString(),items:cart,payment:pay});
  localStorage.orders=JSON.stringify(orders);
  cart=[];count.innerText=0;
  modal.style.display="none";
  showSuccess();
}

/* ===== ORDER HISTORY ===== */
function openHistory(){
  const orders=JSON.parse(localStorage.orders||"[]");
  modal.style.display="flex";
  modalBox.innerHTML=`
    <h3>Order History</h3>
    ${orders.map(o=>`
      <p><b>${o.date}</b><br>
      ${o.items.length} items ‚Äì ${o.payment}</p>`).join("")||"No orders"}
    <button onclick="closeModal()">Close</button>
  `;
}

/* ===== SUCCESS + CONFETTI ===== */
function showSuccess(){
  document.body.innerHTML="";
  document.body.appendChild(success);
  success.style.display="flex";
  for(let i=0;i<70;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}
</script>

</body>
</html>